http://hstore.cs.brown.edu/documentation/deployment/client-configuration/

cd /dev/shm
git clone --depth 1 http://github.com/apavlo/h-store.git
Or tar -xf ~/h-store_copy_20141019.tar.gz

git clone --depth 1 http://245-1.bfc.hpl.hp.com/kimurhid/h-store.git

ant build

ssh-keygen -t dsa
< Enter a few times >

cat ~/.ssh/id_dsa.pub >> ~/.ssh/authorized_keys

AND ALSO SET PERMISSION!
chmod 644 ~/.ssh/authorized_keys

/etc/ssh/sshd_config
RSAAuthentication yes
PubkeyAuthentication yes
PermitEmptyPasswords yes

ssh localhost date


parameter templates and why

-Dsite.jvm_asserts=false
To increase performance

-Dsite.cpu_affinity=false
Andy's recommendation.
=> Well, actually this slows it down at least on Z820.
we should experiment both cpu affinity true and false

-Dclient.blocking=false
To increase throughput

-Dclient.memory=512
In MB. Adjust depending on machine size.

-Dsite.memory=8192
In MB. Adjust depending on machine size.

-Dglobal.memory=2048
Increase only on DragonHawk. Otherwise won't cause an issue.

-Dclient.txnrate=10000

-Dclient.threads_per_host=50
Adjust depending on machine size.


-Dneworder_multip=false
-Dneworder_multip=true
-Dneworder_multip_mix=1
These can't be specified from command line. has to generate tpcc.properties.


-Dhosts="localhost:0:0-3;localhost:1:4-7"
Vary it

Concatenated

ant hstore-prepare hstore-benchmark -Dproject=tpcc -Dsite.jvm_asserts=false -Dclient.blocking=false -Dclient.memory=512 -Dsite.memory=8192 -Dglobal.memory=2048 -Dclient.txnrate=10000 -Dclient.threads_per_host=50 -Dhosts="localhost:0:0-3;localhost:1:4-7"

kimurhid         soft    nproc           65536
kimurhid         hard    nproc           65536

Note, be aware of this error:
  hstore-site:
  OpenJDK 64-Bit Server VM warning: Max heap size too large for Compressed Oops
Keep heap sizes within 32GB.


Edit this file:
emacs -nw src/frontend/org/voltdb/processtools/ProcessSetManager.java

Change line 77
    private static final int POLLING_DELAY = 2000; // ms
to
    private static final int POLLING_DELAY = 60000; // ms

Change line 329:
  this(null, false, 10000, null);
to
  this(null, false, 60000, null);


Then ant
